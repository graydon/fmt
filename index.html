<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="FMT : a framework for formal models and transformations">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>FMT</title>
</head>

<body>

<!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
        <a id="forkme_banner" href="https://github.com/pascalpoizat/fmt">View on GitHub</a>

        <h1 id="project_title">FMT</h1>

        <h2 id="project_tagline">a framework for formal models and transformations</h2>

        <section id="downloads">
            <a class="zip_download_link" href="https://github.com/pascalpoizat/fmt/zipball/master">Download this project
                as a .zip file</a>
            <a class="tar_download_link" href="https://github.com/pascalpoizat/fmt/tarball/master">Download this project
                as a tar.gz file</a>
        </section>
    </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
<section id="main_content" class="inner">
<h2>
    <a name="welcome-to-fmt-pages" class="anchor" href="#welcome-to-fmt-pages"><span
            class="octicon octicon-link"></span></a>Welcome to the FMT pages.</h2>

<p>FMT (Formal Models and Transformations) is a framework for formal models and for transformations between
    these models.</p>

<div>
    <h2>
        <a name="toc" class="anchor" href="#toc"><span
                class="octicon octicon-link"></span></a>Table of contents</h2>
    <ul>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#models">Models</a></li>
        <li><a href="#transformations">Transformations</a></li>
        <li><a href="#installation">Installation</a></li>
        <li><a href="#dependencies">Dependencies</a></li>
        <li><a href="#usagem">Usage (models, readers, and writers)</a></li>
        <li><a href="#usaget">Usage (transformations)</a></li>
        <li><a href="#modelextension">Adding new models</a></li>
        <li><a href="#transformationextension">Adding new transformations</a></li>
        <li><a href="#issues">Issues and enhancements</a></li>
        <li><a href="#branches">Branches</a></li>
        <li><a href="#support">Support and contribution</a></li>
        <li><a href="#contributors">Contributors</a></li>
        <li><a href="#license">License</a></li>
    </ul>
</div>

<div>
    <h2>
        <a name="overview" class="anchor" href="#overview"><span
                class="octicon octicon-link"></span></a>Overview</h2>

    <object data="files/overview.svg" type="image/svg+xml"></object>
</div>

<div>
    <h2>
        <a name="models" class="anchor" href="#models"><span
                class="octicon octicon-link"></span></a>Models</h2>

    <p>The following models are supported:</p>
    <ul>
        <li><strong>BPMN 2.0 Choreography Diagrams (BPMN-ChorD)</strong><br/>
            I/O: bpmn&uparrow;BPMN
        </li>
        <li><strong>Choreography Intermediate Format (CIF)</strong><br/>
            I/O: cif&uparrow;CIF, CIF&downarrow;cif, CIF&downarrow;dot (graphviz files)
        </li>
        <li><strong>Labelled Transition Systems (LTS)</strong><br/>
            I/O: aut&uparrow;LTS (aldebaran files), LTS&downarrow;aut, LTS&downarrow;dot (graphviz files)
        </li>
        <li><strong>Petri Nets (PN)</strong><br/>
            I/O: pnml&uparrow;PNML, PNML&downarrow;pnml<br/>
        </li>
        <li><strong>Symbolic Transition Graphs for choreography (STG-Chor)</strong><br />
            I/O: stg&uparrow;STG-Chor, STG-Chor&downarrow;stg, STG-Chor&downarrow;dot (graphviz files)
        </li>
    </ul>

    <p>legend: f&uparrow;X: reader (read X from f), X&downarrow;f: writer (write X to f), X&rarr;Y: transformation</p>

    <p>Ongoing work: see <a href="#issues">issues and enhancements</a>.</p>
</div>

<div>
    <h2>
        <a name="transformations" class="anchor" href="#transformations"><span
                class="octicon octicon-link"></span></a>Transformations</h2>

    <p>The following transformations are supported:</p>
    <ul>
        <li><strong>BPMN-ChorD&rarr;CIF</strong><br/>
            <code>transformations.bpmn2cif.Bpmn2Cif</code> (<a
                    href="https://github.com/pascalpoizat/fmt/blob/master/src/transformations/bpmn2cif/Bpmn2Cif.java">code</a>)
        </li>
    </ul>

    <p>Ongoing work: see <a href="#issues">issues and enhancements</a>.</p>
</div>

<div>
<h2>
    <a name="installation" class="anchor" href="#installation"><span
            class="octicon octicon-link"></span></a>Installation</h2>

<p>FMT is organized around formal models that are either defined within FMT or, when possible, by encapsulating
    existing model libraries.<br/>
    This means that:
<ul>
    <li>to <strong>use</strong> FMT you will need to install <strong>any</strong> model library that you plan to
        use;
    </li>
    <li>to <strong>compile</strong> FMT you will need to install <strong>all</strong> model libraries that FMT
        supports.
    </li>
</ul>
As a consequence, if you plan to use only some models or some transformations, you may consider <a
        href="#installation-binary">using directly the provided jar file</a> since it requires to install less
dependencies.
</p>

<p><strong>Important: the distribution is relative to the <a href="#branches">master branch</a>.
    For features that are not in the master branch you will have to use <code>git</code> to clone or fork FMT.</strong>
</p>

<div>
    <h3>
        <a name="installation-source" class="anchor" href="#installation-source"><span
                class="octicon octicon-link"></span></a>Installation (source)</h3>

    <p>The distribution is available as a <a href="https://github.com/pascalpoizat/fmt/tarball/master">.tar.gz
        archive</a>
        and as a <a href="https://github.com/pascalpoizat/fmt/zipball/master">.zip archive</a>.<br/>
        It is also possible to clone the FMT repository as follows:
    <pre><code>$ git clone https://github.com/pascalpoizat/fmt.git</code></pre>
    <br/>
    If you have a GitHub account, please consider <a href="https://github.com/pascalpoizat/fmt/fork">forking FMT on
    GitHub</a>.
    </p>

    <p>The distribution includes also a jar file with the compiled sources. Still, if you want to compile the
        sources yourself, the simplest is to use your favorite IDE.<br/>
        <strong>Important: you will need to have installed the <a href="#dependencies">dependencies</a> to compile
            the sources.</strong>
    </p>
</div>
<div>
    <h3>
        <a name="installation-binary" class="anchor" href="#installation-binary"><span
                class="octicon octicon-link"></span></a>Installation (binary)</h3>

    <p>The distribution includes the compiled sources as a single jar file, <code>fmt.jar</code>, in directory
        <code>archive</code>.
    </p>
</div>


<div>
    <h2>
        <a name="dependencies" class="anchor" href="#dependencies"><span
                class="octicon octicon-link"></span></a>Dependencies</h2>

    <p>To compile FMT, or to have it running, you will need a Java distribution.<br/>
    <ul>
        <li><a href="http://www.java.com/download/">get Java</a>
        </li>
    </ul>
    </p>


    <h3>BPMN Choreography Diagrams (BPMN-ChorD)</h3>

    <em>required if you plan to work with BPMN choreography models:<br/>- EMF 2.11.0+, BPMN model 1.2.0.Final</em>

    <p>You can get EMF by installing <a href="https://www.eclipse.org/">Eclipse</a> Mars or above.<br/>
        You can get the BPMN model by updating your Eclipse IDE using the <a
                href="http://download.eclipse.org/bpmn2-modeler/updates/">BPMN update site</a>.</p>

    <h3>Choreography Intermediate Format (CIF)</h3>

    <em>required if you plan to work with CIF choreography models:<br/>- nothing</em>

    <h3>Labelled Transition Systems (LTS)</h3>

    <em>required if you plan to work with LTS models:<br/>- nothing</em>

    <h3>Petri Nets (PN)</h3>

    <em>required if you plan to work with Petri Net models:<br/>- PNML framework 2.2.8+</em>

    <p>You can get the PNML framework using one of these techniques:</p>

    <ul>
        <li>update your Eclipse IDE using the <a href="http://pnml.lip6.fr/pnmlframework/updatesite/">PNML framework
            update site</a>;
        </li>
        <li>download the archive of jar files from the <a href="http://pnml.lip6.fr/">PNML framework Web site</a>;
        </li>
    </ul>

    <h3>Symbolic Transition Graphs for choreography (STG-Chor)</h3>

    <em>required if you plan to work with STG choreography models:<br/>- EMF 2.9.1+, SChorA, Z3</em>

    <p>You can get EMF by installing <a href="https://www.eclipse.org/">Eclipse</a>.<br/>
        You can get SChorA at the <a href="https://github.com/pascalpoizat/schora">SChorA GitHub repository</a>.<br />
        Unless you want to compile from sources, the <code>archive/schora.jar</code> file includes the necessary SMT-API dependencies (<code>smt-api.jar</code>).<br />
        You can get Z3 at <a href="http://z3.codeplex.com/">http://z3.codeplex.com/</a>
        (scroll down the main page to find the <strong>Platform</strong> section where you can find archives for Windows, Linux, and OSX).
    </p>

</div>

<div>
    <h2>
        <a name="usagem" class="anchor" href="#usagem"><span
                class="octicon octicon-link"></span></a>Usage (models, readers, and writers)
    </h2>


    <p>We give here an example based on the STG-Chor model.<br />
        Other models, readers, and writers, should respect the same coding pattern (see <a href="#modelextension">adding models</a>), hence be used in the same way.</p>

    <p>Make a working directory</p>

    <pre><code>$ mkdir fmt-tests ; cd fmt-tests
</code></pre>

    <p>Get the <a href="https://github.com/pascalpoizat/fmt/blob/gh-pages/files/sample.stg">sample STG
        choreography file</a> and save it in
        <code>fmt-tests</code></p>

    <p>We will write a small program to make a copy of this file (this is just for demonstration purposes) and to generate a picture for the model.<br />
    Save the following Java source code (you may <a href="https://github.com/pascalpoizat/fmt/blob/gh-pages/files/CopyPaste.java">get it there</a>) as <code>CopyPaste.java</code>.

    <pre><code>import models.base.AbstractModel;
import models.base.IllegalResourceException;
import models.choreography.stg.*;
import java.io.File;
import java.io.IOException;

public class CopyPaste {
    public static void main(String[] args) {
        try {
            // read the input model using an stg/STG reader
            AbstractModel model = new StgModel();
            model.setResource(new File("sample.stg"));
            model.modelFromFile(new StgStgReader());

            // write the model using an STG/stg writer
            model.setResource(new File("sample_copy.stg"));
            model.modelToFile(new StgStgWriter());

            // write the model using an STG/dot writer
            model.setResource(new File("sample_copy.dot"));
            model.modelToFile(new DotStgWriter());

        } catch (IllegalResourceException e) {
            System.out.println(e.getMessage());
        } catch (IOException e) {
            System.out.println(e.getMessage());
        }
    }
}</code></pre>

    <p>Set up the place where the FMT jar is installed (here the <code>/tmp</code> directory).</p>

    <pre><code>$ export FMT_HOME=/tmp
</code></pre>

    <p>Compile the code</p>

    <pre><code>$ javac -cp $FMT_HOME/fmt.jar CopyPaste.java</code></pre>

    <p>Set up the place where the dependencies are installed (here the <code>/tmp</code> directory for the SChorA jar and the Eclipse plugins directory for the EMF jars.</p>

    <pre><code>$ export SCHORA_HOME=/tmp
$ export EMF_HOME=/Applications/Eclipse/plugins</code></pre>

    <p>Run the program</p>

    <pre><code>$ java -cp $FMT_HOME/fmt.jar:$SCHORA_HOME/schora.jar:$EMF_HOME/*:. CopyPaste</code></pre>

    <p>If you have <a href="http://www.graphviz.org/">graphviz</a> installed, you can generate a png file for the model with</p>

    <pre><code>$ dot -Tpng sample_copy.dot -o sample_copy.png</code></pre>

    <img src="files/sample_copy.png" alt="png picture of sample_copy.png" />

</div>

<div>
    <h2>
        <a name="usaget" class="anchor" href="#usaget"><span
                class="octicon octicon-link"></span></a>Usage (transformations)
    </h2>

    <p>We give here an example based on the BPMN-ChorD&rarr;CIF transformation.<br />
    Other transformation should respect the same coding pattern (see <a href="#transformationextension">adding transformations</a>), hence be used in the same way.</p>

    <p>Make a working directory</p>

<pre><code>$ mkdir fmt-tests ; cd fmt-tests
</code></pre>

    <p>Get the <a href="https://github.com/pascalpoizat/fmt/blob/gh-pages/files/sample.bpmn">sample BPMN
        choreography file</a> and save it in
        <code>fmt-tests</code></p>

    <p>Set up the places where the FMT jar file and the dependencies are installed (here the <code>/tmp</code> directory
        and the Eclipse
        plugin directory).</p>

    <pre><code>$ export FMT_HOME=/tmp
$ export EMF_HOME=/Applications/Eclipse/plugins</code></pre>

    <p>Run a transformer on the sample file.</p>

<pre><code>$ java -cp $FMT_HOME/fmt.jar:$EMF_HOME/*:. transformations.bpmn2cif.Bpmn2Cif sample.bpmn sample.cif
</code></pre>

    <p>You should then get something like this:</p>

<pre><code>bpmn2cif 1.1
Input model: /private/tmp/comanche.bpmn
-- reader: class models.choreography.bpmn.BpmnEMFBpmnReader (bpmn suffix)
Output model: /private/tmp/comanche.cif
-- writer: class models.choreography.cif.CifCifWriter (cif suffix)
** Resources set
** Input model loaded
** Transformation achieved
** Output model generated</code></pre>
</div>

<div>
    <h2>
        <a name="modelextension" class="anchor" href="#modelextension"><span
                class="octicon octicon-link"></span></a>Adding new models</h2>

    <p>To appear</p>
</div>

<div>
    <h2>
        <a name="transformationextension" class="anchor" href="#transformationextension"><span
                class="octicon octicon-link"></span></a>Adding new transformations</h2>

    <p>Adding a transformation between <code>X</code> and <code>Y</code> is done by
        writing:
    <ul>
        <li>a <code>transformations.x2y.X2YTransformer</code> class that extends <code>AbstractTransformer</code>
            (<a href="https://github.com/pascalpoizat/fmt/blob/master/src/transformations/base/AbstractTransformer.java">code</a>)
            and implements three methods:<br/><br/>
        <pre><code>public X2YTransformer();
// calls super()
public void transform() throws IllegalModelException;
// generates outputModel from inputModel
public void about();
// prints out NAME + VERSION</code></pre>
        </li>
        <br/>
        <li>a <code>transformations.x2y.X2Y</code> class with the following pattern:<br/><br/>
        <pre><code>package transformations.bpmn2cif;
import ...
public class Bpmn2Cif {
    public static final String USAGE = "Bpmn2Cif input_file output_file";

    public static void main(String[] args) {
        Transformer trans = new Bpmn2CifTransformer();
        trans.setVerbose(true);
        trans.about();
        if (args.length != 2) {
            trans.error(USAGE);
            return;
        }
        try {
            AbstractModelReader reader = new BpmnEMFBpmnReader();
            AbstractModelWriter writer = new CifCifWriter();
            AbstractModel input_model = new BpmnModel();
            input_model.setResource(new File(args[0]));
            AbstractModel output_model = new CifModel();
            output_model.setResource(new File(args[1]));
            trans.setResources(input_model, output_model, reader, writer);
            trans.run(false);
            trans.cleanUp();
        } catch (IOException | IllegalResourceException | IllegalModelException e) {
            trans.message(e.getMessage());
            e.printStackTrace();
        }
    }
}</code></pre>
        </li>
    </ul>

    </p>
</div>

<div>
    <h2>
        <a name="issues" class="anchor" href="#issues"><span
                class="octicon octicon-link"></span></a>Issues and enhancements</h2>

    <p><a href="https://github.com/pascalpoizat/fmt/issues">See the issue tracker</a>.</p>
</div>

<div>
    <h2>
        <a name="branches" class="anchor" href="#branches"><span
                class="octicon octicon-link"></span></a>Branches</h2>

    <p><a href="https://github.com/pascalpoizat/fmt/network">See graph</a>.</p>

</div>

<div>
    <h2>
        <a name="support" class="anchor" href="#support"><span
                class="octicon octicon-link"></span></a>Support and contribution</h2>

    <p>Support and contribution can be achieved through <a href="https://github.com/pascalpoizat/fmt/issues">the issue
        tracker</a>.<br/>
        If you cannot use GitHub, see contact information <a href="http://lip6.fr/Pascal.Poizat/contact.html">here</a>.
    </p>
</div>

<div>
    <h2>
        <a name="contributors" class="anchor" href="#contributors"><span
                class="octicon octicon-link"></span></a>Contributors</h2>

    <p><strong>Pascal Poizat</strong>, Paris Ouest University and LIP6</p>
    <ul class="task-list">
        <li><a href="http://twitter.com/pascalpoizat">http://twitter.com/pascalpoizat</a></li>
        <li><a href="http://github.com/pascalpoizat">http://github.com/pascalpoizat</a></li>
    </ul>
</div>

<div>
    <h2>
        <a name="license" class="anchor" href="#license"><span
                class="octicon octicon-link"></span></a>License</h2>

    <p>Code released under the <a href="/pascalpoizat/fmt/blob/master/LICENSE.md">GPL v2</a>.</p>
</div>

</div>
</section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
    <footer class="inner">
        <p class="copyright">FMT maintained by <a href="https://github.com/pascalpoizat">pascalpoizat</a></p>

        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
    </footer>
</div>


</body>
</html>
